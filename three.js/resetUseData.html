<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<input
			type="file"
			accept=".png,.jpg,.jpeg"
			value="选择图片"
			onchange="choiceImage(this)"
		/>
	</body>
	<script>
		function choiceImage(_this) {
			const [file] = _this.files;
			console.log(file);
		}
		function canvasFn(scale) {
			let canvas = document.createElement("canvas");
			let w = 1080;
			let h = 1339;
			canvas.width = w * scale;
			canvas.height = h * scale;
			canvas.style.width = w + "px";
			canvas.style.height = h + "px";

			let ctx = canvas.getContext("2d");
			let imageObj = new Image();
			imageObj.setAttribute("crossorigin", "anonymous");
			imageObj.src = "./cat.jpg";
			imageObj.onload = () => {
				ctx.drawImage(imageObj, 0, 0, canvas.width, canvas.height);

				ctx.scale(scale, scale);

				let imgSrc = canvas.toDataURL("image/png");
				let imgDom = document.createElement("img");

				imgDom.className = "ctx-img-" + scale;
				imgDom.src = imgSrc;

				document.body.appendChild(imgDom);
			};
		}
	</script>
</html>
